{% extends "base.html" %}
{% block content %}
<h2>Posts</h2>
<a href="{{ url_for('app_views.admin_dashboard') }}">Back to Dashboard</a>
<table>
  <tr><th>ID</th><th>Title</th><th>Content</th><th>Actions</th></tr>
  {% for post in posts %}
    <tr>
      <td>{{ post.id }}</td>
      <td>{{ post.title }}</td>
      <td>{{ post.content|truncate(50) }}</td>
      <td>
        <a href="{{ url_for('app_views.admin_edit_post', post_id=post.id) }}">Edit</a>
        <form action="{{ url_for('app_views.admin_delete_post', post_id=post.id) }}" method="post" style="display:inline;">
          <button type="submit" onclick="return confirm('Delete post?')">Delete</button>
        </form>
      </td>
    </tr>
  {% endfor %}
</table>
{% endblock %} 